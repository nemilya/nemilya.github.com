<html>
  <head>
    <title>CoffeeScript Game Sokoban</title>
    <script src="game_sokoban.js"></script>
  </head>
<body>

<h1>CoffeeScript Game Sokoban</h1>

<pre id="level" style="font-family: Courier;">
 #########
 #  #   .#
 #@$ $   #
 # $ ##..#
 #   #####
 #########
</pre>

<script>
  var game = new GameSokoban();
  var field = document.getElementById('level');
  game.set_level(field.innerHTML);

  function move(direction){
    game.sokoban_move(direction);
    field.innerHTML = game.get_level();
  }

  function handle_keyboard(e){
    e = (e) ? e : ((window.event) ? e : null);
    if (e){
      switch(e.keyCode){
        case 37: move('left'); break;
        case 38: move('up'); break;
        case 39: move('right'); break;
        case 40: move('down'); break;
      }
    }
  }

  document.onkeydown = handle_keyboard;

</script>

<table>
  <tr>
    <td></td>
    <td align="center"><button onclick="move('up')" >Up</button></td>
    <td></td>
  </tr>
  <tr>
    <td><button onclick="move('left')" >Left</button></td>
    <td align="center">[cursor]</td>
    <td><button onclick="move('right')" >Right</button></td>
  </tr>
  <tr>
    <td></td>
    <td><button onclick="move('down')" >Down</button></td>
    <td></td>
  </tr>
</table>

<small><a href="https://github.com/nemilya/coffeescript-game-sokoban">github</a></small>

</body>
</html>